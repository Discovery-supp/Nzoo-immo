# 📊 Guide d'Utilisation - Modal d'Analyse des Revenus (V2)

## 🎯 Vue d'ensemble

Le modal d'analyse des revenus permet d'analyser en détail les revenus de votre entreprise avec des filtres avancés par période et services. **Version 2** inclut des améliorations majeures pour la sélection de période.

## 🚀 Accès au Modal

1. **Accédez au tableau de bord administrateur**
2. **Cliquez sur l'onglet "Revenus"**
3. **Cliquez sur le bouton "Analyse Détaillée"** (icône graphique)

## ⚙️ Configuration des Filtres

### 📅 **Sélection de Période - NOUVEAU !**

Le modal offre maintenant des options de périodes précises :

#### **Périodes Prédéfinies**
- **Aujourd'hui** : Revenus du jour en cours uniquement
- **Cette semaine (7 jours)** : Revenus des 7 derniers jours
- **Ce mois** : Revenus du mois en cours (du 1er au dernier jour)
- **Ce trimestre** : Revenus du trimestre en cours
- **Cette année** : Revenus de l'année en cours (du 1er janvier au 31 décembre)

#### **Période Personnalisée**
- **Date de début** : Sélectionnez le premier jour de votre période
- **Date de fin** : Sélectionnez le dernier jour de votre période

### 🏢 **Sélection des Services**

Vous pouvez sélectionner un ou plusieurs services :

- **Coworking** : Espaces de travail partagés
- **Bureau Privé** : Bureaux privés
- **Salle de Réunion** : Salles de réunion
- **Domiciliation** : Services de domiciliation

**Note** : Cliquez sur les boutons pour activer/désactiver les services.

### 📊 **Groupement des Données**

Choisissez comment grouper vos données :

- **Jour** : Données groupées par jour (idéal pour les analyses quotidiennes)
- **Semaine** : Données groupées par semaine (idéal pour les tendances hebdomadaires)
- **Mois** : Données groupées par mois (idéal pour les analyses mensuelles)
- **Service** : Données groupées par type de service (comparaison des services)

## 📈 Visualisation des Données

### 🎯 **Indicateur de Période Active - NOUVEAU !**

Un indicateur clair affiche :
- **Période analysée** : La période exacte sélectionnée
- **Groupement** : Comment les données sont organisées

### 📊 **Résumé en Temps Réel**

Le modal affiche 4 cartes de résumé :

1. **Revenus Totaux** : Montant total des revenus pour la période
2. **Réservations** : Nombre total de réservations
3. **Moyenne** : Revenu moyen par réservation
4. **Meilleur Service** : Service le plus rentable

### 📊 **Graphiques Interactifs**

#### **Graphique Principal**
- **Mode Temporel** : Évolution des revenus dans le temps
- **Mode Service** : Comparaison des revenus par service

#### **Graphique en Secteurs**
- Répartition des revenus par service
- Couleurs distinctes pour chaque service

### 📋 **Tableau Détaillé**

Le tableau affiche :
- **Période/Service** : Selon le mode de groupement
- **Revenus** : Montant total
- **Réservations** : Nombre de réservations
- **Moyenne** : Revenu moyen par réservation

## 🔧 Fonctionnalités Avancées

### 📤 **Export des Données**

1. **Cliquez sur le bouton "Exporter"** (icône téléchargement)
2. **Choisissez le format** (CSV, Excel, PDF)
3. **Téléchargez le rapport**

### 🔄 **Actualisation**

- **Automatique** : Les données se mettent à jour automatiquement
- **Manuelle** : Les filtres se recalculent instantanément

## 💡 Conseils d'Utilisation

### 📊 **Pour l'Analyse Quotidienne**
- **Période** : "Aujourd'hui"
- **Groupement** : "Jour"
- **Services** : Tous sélectionnés
- **Résultat** : Revenus du jour en cours

### 📈 **Pour l'Analyse Hebdomadaire**
- **Période** : "Cette semaine (7 jours)"
- **Groupement** : "Jour"
- **Services** : Selon vos besoins
- **Résultat** : Évolution quotidienne sur 7 jours

### 📅 **Pour l'Analyse Mensuelle**
- **Période** : "Ce mois"
- **Groupement** : "Jour" ou "Semaine"
- **Services** : Selon vos besoins
- **Résultat** : Revenus du mois en cours

### 🎯 **Pour Comparer les Services**
- **Période** : Selon vos besoins
- **Groupement** : "Service"
- **Services** : Sélectionnez ceux à comparer
- **Résultat** : Comparaison directe des services

### 📅 **Pour l'Analyse Annuelle**
- **Période** : "Cette année"
- **Groupement** : "Mois"
- **Services** : Tous sélectionnés
- **Résultat** : Évolution mensuelle sur l'année

### 🎛️ **Pour une Période Spécifique**
- **Période** : "Période personnalisée"
- **Date de début** : Sélectionnez votre date de début
- **Date de fin** : Sélectionnez votre date de fin
- **Groupement** : Selon la durée de votre période
- **Résultat** : Analyse sur votre période exacte

## 🔍 Cas d'Usage Pratiques

### 🏢 **Gestionnaire d'Espace**
1. **Analysez les performances** de chaque type d'espace
2. **Identifiez les périodes** de forte demande
3. **Optimisez les tarifs** selon les tendances

**Exemple** : Sélectionnez "Ce mois" + "Jour" pour voir les jours les plus rentables

### 💼 **Directeur Commercial**
1. **Suivez l'évolution** des revenus
2. **Comparez les services** les plus rentables
3. **Planifiez les stratégies** de développement

**Exemple** : Sélectionnez "Cette année" + "Mois" pour voir la croissance annuelle

### 📊 **Analyste Financier**
1. **Générez des rapports** détaillés
2. **Analysez les tendances** saisonnières
3. **Préparez les budgets** prévisionnels

**Exemple** : Sélectionnez "Période personnalisée" pour analyser des périodes spécifiques

## ⚠️ Notes Importantes

### 🔒 **Sécurité des Données**
- Les données sont basées sur les réservations confirmées
- Seuls les administrateurs peuvent accéder à ce modal
- Les données sont mises à jour en temps réel

### 📱 **Responsive Design**
- Le modal s'adapte à tous les écrans
- Utilisez le mode paysage sur mobile pour une meilleure vue
- Les graphiques sont interactifs sur tous les appareils

### 🔄 **Performance**
- Les calculs sont optimisés pour de grandes quantités de données
- L'actualisation automatique évite les surcharges
- Les filtres sont appliqués en temps réel

## 🆘 Dépannage

### ❓ **Problèmes Courants**

**Q: Les données ne s'affichent pas ?**
R: Vérifiez que vous avez des réservations dans la période sélectionnée

**Q: Le graphique est vide ?**
R: Assurez-vous d'avoir sélectionné au moins un service

**Q: La période ne correspond pas à ce que j'ai sélectionné ?**
R: Vérifiez l'indicateur de période active en haut du modal

**Q: L'export ne fonctionne pas ?**
R: Cette fonctionnalité sera bientôt disponible

### 📞 **Support**

Pour toute question ou problème :
- Consultez la documentation technique
- Contactez l'équipe de développement
- Vérifiez les logs d'erreur dans la console

## 🆕 **Nouvelles Fonctionnalités V2**

### ✅ **Améliorations Apportées**
- **Périodes précises** : Calcul exact des dates de début et fin
- **Indicateur de période** : Affichage clair de la période analysée
- **Descriptions détaillées** : Explications sous chaque filtre
- **Calculs optimisés** : Meilleure gestion des périodes personnalisées
- **Interface améliorée** : Plus intuitive et informative

### 🎯 **Exemples de Périodes**
- **Aujourd'hui** : Du 02/01/2025 00:00 au 02/01/2025 23:59
- **Cette semaine** : Du 27/12/2024 au 02/01/2025 (7 jours)
- **Ce mois** : Du 01/01/2025 au 31/01/2025
- **Ce trimestre** : Du 01/10/2024 au 31/12/2024
- **Cette année** : Du 01/01/2025 au 31/12/2025

---

**Version** : 2.0  
**Dernière mise à jour** : 2025-01-02  
**Auteur** : Équipe N'zoo Immo
